header.header
  .container
    .row.align-items-center

      // LOGO
      .col-3
        .inner-logo 
          a(href="/")
            img(src=settingGeneral.logo, alt=settingGeneral.websiteName)

      // SEARCH
      .col-4
        form(
          action="/search" 
          method="GET"
          class="w-100"
        )
          div(class="form-group d-flex mb-0 header-search")
            input(
              type="text" 
              placeholder="Nhập từ khóa..." 
              class="form-control" 
              name="keyword"
              value=keyword
            )
            button(
              type="submit" 
              class="btn btn-primary"
            ) Tìm

      // MENU
      .col-5
        .inner-menu
          ul.mb-0
            li 
              a(href="/") Trang chủ
            li 
              a(href="/projects") Công việc
            
            if user
              li
                // debug nhỏ nếu muốn
                // span.text-muted (role: #{user.roleUser})

              li.dropdown
                a(
                  href="javascript:;"
                  class="dropdown-toggle"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                ) #{user.fullName}

                .dropdown-menu.dropdown-menu-right
                  a.dropdown-item(href="/user/info") Hồ sơ cá nhân

                  // ⭐ FREELANCER
                  if user.roleUser && user.roleUser.toLowerCase() === "freelancer"
                    a.dropdown-item(href="/cart")
                      | Công việc đề xuất (
                      = miniCart ? miniCart.totalProject : 0
                      | )

                    a.dropdown-item(href="/freelancer/proposals")
                      | Đề xuất của tôi

                  // ⭐ HIRER
                  if user.roleUser && user.roleUser.toLowerCase() === "hirer"
                    a.dropdown-item(href="/hirer/projects")
                      | Công việc của tôi

                    a.dropdown-item(href="/hirer/projects/create")
                      | Đăng công việc mới

                  .dropdown-divider

                  a.dropdown-item.text-danger(href="/user/logout") Đăng xuất
            else 
              li 
                a(href="/user/login") Đăng nhập
              li 
                a(href="/user/register") Đăng ký


.section.top-strip
  .strip-wrapper
    .strip-center
      span.strip-text Hãy chia sẻ nhu cầu công việc để nhận gợi ý việc làm tốt nhất

    .strip-right
      if user
        if user.roleUser && user.roleUser.toLowerCase() === "freelancer"
          a.strip-btn(href="/user/info") Cập nhật nhu cầu công việc →
        else if user.roleUser && user.roleUser.toLowerCase() === "hirer"
          a.strip-btn(href="/projects/create") Đăng công việc mới ngay →
      else
        a.strip-btn(href="/user/register") Tham gia miễn phí →

