extends ../../layouts/default

block main
  .container.my-4
    .d-flex.justify-content-between.align-items-center.mb-3
      h1(class="h4 mb-0") Công việc của tôi
      a(
        href="/hirer/projects/create"
        class="btn btn-primary"
      ) Tạo công việc mới

    if projects && projects.length
      table(class="table table-hover table-bordered")
        thead
          tr
            th Thứ tự
            th Tên công việc
            th Ngân sách
            th Hạn chót
            th Trạng thái
            th Đề xuất
        tbody
          each project, index in projects
            tr
              td #{index + 1}

              td
                a(
                  href=`/projects/${project.slug}`
                ) #{project.title}

              td
                if project.budget && project.budget.min != null && project.budget.max != null
                  | #{project.budget.min} - #{project.budget.max}
                else
                  | -

              td
                if project.deadline
                  | #{project.deadline.toLocaleDateString("vi-VN")}
                else
                  | -

              td
                if project.status === "OPEN"
                  span(class="badge badge-success") Mở
                else if project.status === "IN_PROGRESS"
                  span(class="badge badge-warning") Đang thực hiện
                else if project.status === "COMPLETED"
                  span(class="badge badge-primary") Hoàn thành
                else
                  span(class="badge badge-secondary") #{project.status}

              td
                a(
                  href=`/hirer/projects/${project._id}/proposals`
                  class="btn btn-sm btn-outline-secondary"
                ) Xem đề xuất
    else
      .alert.alert-info.mt-3
        | Bạn chưa đăng công việc nào.
        |  
        a(href="/hirer/projects/create") Tạo công việc mới ngay.
